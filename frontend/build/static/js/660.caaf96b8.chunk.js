"use strict";(self.webpackChunkemergent_ai_browser=self.webpackChunkemergent_ai_browser||[]).push([[660],{9757:(e,t,a)=>{a.r(t),a.d(t,{default:()=>X});var i=a(2555),s=a(5043),o=a(12),n=a(6938),r=a(2014),l=a(4077),c=a(4110),d=a(3227),p=a(73),g=a(7365),x=a(9340),m=a(4830),u=a(8693),h=(a(6299),a(5852)),b=a(579);const y={trigger:e=>{let{data:t,isConnectable:a}=e;return(0,b.jsxs)("div",{className:"px-4 py-2 shadow-lg rounded-lg bg-gradient-to-r from-green-400 to-green-600 border-2 border-green-300 min-w-[150px]",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)(p.A,{size:16,className:"text-white"}),(0,b.jsx)("div",{className:"text-white font-medium",children:t.label})]}),(0,b.jsx)("div",{className:"text-green-100 text-xs mt-1",children:t.description}),(0,b.jsx)(r.h7,{type:"source",position:r.yX.Right,id:"trigger-out",style:{background:"#10b981"},isConnectable:a})]})},action:e=>{let{data:t,isConnectable:a}=e;return(0,b.jsxs)("div",{className:"px-4 py-2 shadow-lg rounded-lg bg-gradient-to-r from-blue-400 to-blue-600 border-2 border-blue-300 min-w-[150px]",children:[(0,b.jsx)(r.h7,{type:"target",position:r.yX.Left,id:"action-in",style:{background:"#3b82f6"},isConnectable:a}),(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)(t.icon,{size:16,className:"text-white"}),(0,b.jsx)("div",{className:"text-white font-medium",children:t.label})]}),(0,b.jsx)("div",{className:"text-blue-100 text-xs mt-1",children:t.description}),(0,b.jsx)(r.h7,{type:"source",position:r.yX.Right,id:"action-out",style:{background:"#3b82f6"},isConnectable:a})]})},condition:e=>{let{data:t,isConnectable:a}=e;return(0,b.jsxs)("div",{className:"px-4 py-2 shadow-lg rounded-lg bg-gradient-to-r from-yellow-400 to-orange-500 border-2 border-yellow-300 min-w-[150px]",children:[(0,b.jsx)(r.h7,{type:"target",position:r.yX.Left,id:"condition-in",style:{background:"#f59e0b"},isConnectable:a}),(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)(g.A,{size:16,className:"text-white"}),(0,b.jsx)("div",{className:"text-white font-medium",children:t.label})]}),(0,b.jsx)("div",{className:"text-yellow-100 text-xs mt-1",children:t.description}),(0,b.jsx)(r.h7,{type:"source",position:r.yX.Right,id:"condition-true",style:{background:"#10b981",top:"60%"},isConnectable:a}),(0,b.jsx)(r.h7,{type:"source",position:r.yX.Right,id:"condition-false",style:{background:"#ef4444",top:"80%"},isConnectable:a})]})},end:e=>{let{data:t,isConnectable:a}=e;return(0,b.jsxs)("div",{className:"px-4 py-2 shadow-lg rounded-lg bg-gradient-to-r from-purple-400 to-purple-600 border-2 border-purple-300 min-w-[150px]",children:[(0,b.jsx)(r.h7,{type:"target",position:r.yX.Left,id:"end-in",style:{background:"#8b5cf6"},isConnectable:a}),(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)(p.A,{size:16,className:"text-white"}),(0,b.jsx)("div",{className:"text-white font-medium",children:t.label})]}),(0,b.jsx)("div",{className:"text-purple-100 text-xs mt-1",children:t.description})]})}},f=e=>{let{workflow:t,onWorkflowUpdate:a,onExecute:n,isExecuting:g}=e;const[f,w,j]=(0,r.ck)((null===t||void 0===t?void 0:t.nodes)||[]),[v,k,N]=(0,r.fM)((null===t||void 0===t?void 0:t.edges)||[]),[A,C]=(0,s.useState)(!1),S=(0,s.useCallback)(()=>{const e=f.some(e=>"trigger"===e.type),t=f.some(e=>"end"===e.type),a=v.length>0;C(e&&t&&a&&f.length>=2)},[f,v]);s.useEffect(()=>{S(),a&&a({nodes:f,edges:v})},[f,v,S,a]);const T=(0,s.useCallback)(e=>k(t=>(0,r.rN)((0,i.A)((0,i.A)({},e),{},{type:"smoothstep",style:{stroke:"#3b82f6",strokeWidth:2},markerEnd:{type:"arrowclosed",color:"#3b82f6"}}),t)),[k]),E=(0,s.useCallback)(e=>{e.preventDefault(),e.dataTransfer.dropEffect="move"},[]),z=(0,s.useCallback)(e=>{e.preventDefault();const t=e.currentTarget.getBoundingClientRect(),a=JSON.parse(e.dataTransfer.getData("application/reactflow"));if(!a)return;const i={x:e.clientX-t.left-75,y:e.clientY-t.top-25},s={id:(0,h.A)(),type:a.type,position:i,data:a.data,style:{zIndex:1e3}};w(e=>e.concat(s))},[w]);return(0,b.jsx)("div",{className:"h-full w-full bg-dark-900 relative",children:(0,b.jsxs)(r.Gc,{nodes:f,edges:v,onNodesChange:j,onEdgesChange:N,onConnect:T,onDrop:z,onDragOver:E,nodeTypes:y,fitView:!0,className:"bg-dark-900",defaultViewport:{x:0,y:0,zoom:1},children:[(0,b.jsx)(l.H,{className:"bg-dark-800 border border-dark-700"}),(0,b.jsx)(c.o,{className:"bg-dark-800 border border-dark-700",nodeColor:"#3b82f6",maskColor:"rgba(17, 24, 39, 0.8)"}),(0,b.jsx)(d.V,{variant:"dots",gap:20,size:1,color:"#374151"}),(0,b.jsxs)(r.Zk,{position:"top-right",className:"bg-dark-800 border border-dark-700 rounded-lg p-4 m-4",children:[(0,b.jsx)("div",{className:"flex items-center gap-2 mb-4",children:(0,b.jsx)("h3",{className:"text-white font-semibold",children:"Workflow Controls"})}),(0,b.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,b.jsxs)(o.P.button,{onClick:()=>{A&&n&&n({nodes:f,edges:v})},disabled:!A||g,className:"flex items-center gap-2 px-4 py-2 rounded-lg transition-colors ".concat(A&&!g?"bg-green-500 hover:bg-green-600 text-white":"bg-gray-600 text-gray-400 cursor-not-allowed"),whileHover:{scale:A?1.02:1},whileTap:{scale:A?.98:1},children:[g?(0,b.jsx)(x.A,{size:16}):(0,b.jsx)(m.A,{size:16}),g?"Executing...":"Execute"]}),(0,b.jsxs)(o.P.button,{onClick:()=>{const e={id:(null===t||void 0===t?void 0:t.id)||(0,h.A)(),name:(null===t||void 0===t?void 0:t.name)||"Untitled Workflow",nodes:f,edges:v,createdAt:(null===t||void 0===t?void 0:t.createdAt)||(new Date).toISOString(),updatedAt:(new Date).toISOString()},a=JSON.stringify(e,null,2),i="data:application/json;charset=utf-8,"+encodeURIComponent(a),s="".concat(e.name.replace(/\s+/g,"_").toLowerCase(),".json"),o=document.createElement("a");o.setAttribute("href",i),o.setAttribute("download",s),o.click()},disabled:0===f.length,className:"flex items-center gap-2 px-4 py-2 bg-blue-500 hover:bg-blue-600 disabled:bg-gray-600 disabled:text-gray-400 text-white rounded-lg transition-colors",whileHover:{scale:1.02},whileTap:{scale:.98},children:[(0,b.jsx)(u.A,{size:16}),"Save"]}),(0,b.jsx)(o.P.button,{onClick:()=>{w([]),k([])},disabled:0===f.length,className:"flex items-center gap-2 px-4 py-2 bg-red-500 hover:bg-red-600 disabled:bg-gray-600 disabled:text-gray-400 text-white rounded-lg transition-colors",whileHover:{scale:1.02},whileTap:{scale:.98},children:"Clear"})]}),(0,b.jsx)("div",{className:"mt-4 pt-4 border-t border-dark-700",children:(0,b.jsxs)("div",{className:"text-sm",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2 ".concat(A?"text-green-400":"text-red-400"),children:[(0,b.jsx)("div",{className:"w-2 h-2 rounded-full ".concat(A?"bg-green-400":"bg-red-400")}),A?"Ready to Execute":"Invalid Workflow"]}),(0,b.jsxs)("div",{className:"text-gray-400 text-xs mt-1",children:["Nodes: ",f.length," | Connections: ",v.length]})]})})]}),0===f.length&&(0,b.jsx)(r.Zk,{position:"center",className:"pointer-events-none",children:(0,b.jsxs)("div",{className:"text-center bg-dark-800/80 rounded-lg p-8 border border-dark-700",children:[(0,b.jsx)(p.A,{size:48,className:"text-gray-600 mx-auto mb-4"}),(0,b.jsx)("h3",{className:"text-xl font-semibold text-white mb-2",children:"Start Building Your Workflow"}),(0,b.jsx)("p",{className:"text-gray-400 mb-4",children:"Drag components from the sidebar to create your automated workflow"}),(0,b.jsxs)("div",{className:"text-sm text-gray-500",children:["1. Add a Trigger to start",(0,b.jsx)("br",{}),"2. Add Actions to execute",(0,b.jsx)("br",{}),"3. Connect the nodes",(0,b.jsx)("br",{}),"4. Execute your workflow"]})]})})]})})};var w=a(2105),j=a(5731),v=a(5088),k=a(5327),N=a(3005),A=a(1680),C=a(67),S=a(8298),T=a(7118),E=a(4669),z=a(9292);const L=()=>{var e;const[t,a]=(0,s.useState)("triggers"),[i,n]=(0,s.useState)(""),r=[{id:"triggers",label:"Triggers",icon:p.A},{id:"actions",label:"Actions",icon:g.A},{id:"conditions",label:"Logic",icon:w.A},{id:"integrations",label:"Apps",icon:j.A}],l={triggers:[{type:"trigger",data:{label:"Manual Start",description:"Start workflow manually",icon:p.A,config:{type:"manual"}}},{type:"trigger",data:{label:"Schedule",description:"Run on schedule",icon:v.A,config:{type:"schedule"}}},{type:"trigger",data:{label:"Webhook",description:"Start via webhook",icon:j.A,config:{type:"webhook"}}}],actions:[{type:"action",data:{label:"Web Scraping",description:"Extract data from websites",icon:j.A,config:{type:"scrape"}}},{type:"action",data:{label:"Send Email",description:"Send automated emails",icon:k.A,config:{type:"email"}}},{type:"action",data:{label:"Save to Database",description:"Store data in database",icon:N.A,config:{type:"database"}}},{type:"action",data:{label:"Generate Report",description:"Create automated reports",icon:A.A,config:{type:"report"}}},{type:"action",data:{label:"API Call",description:"Make HTTP requests",icon:w.A,config:{type:"api"}}},{type:"action",data:{label:"Process Image",description:"Analyze or modify images",icon:C.A,config:{type:"image"}}}],conditions:[{type:"condition",data:{label:"If/Else",description:"Conditional branching",icon:w.A,config:{type:"condition"}}},{type:"condition",data:{label:"Filter",description:"Filter data based on criteria",icon:S.A,config:{type:"filter"}}}],integrations:[{type:"action",data:{label:"LinkedIn",description:"Connect to LinkedIn",icon:T.A,config:{type:"linkedin",platform:"social"}}},{type:"action",data:{label:"Google Sheets",description:"Read/write spreadsheets",icon:A.A,config:{type:"sheets",platform:"google"}}},{type:"action",data:{label:"Slack",description:"Send Slack messages",icon:E.A,config:{type:"slack",platform:"communication"}}},{type:"action",data:{label:"Twitter/X",description:"Post to Twitter/X",icon:j.A,config:{type:"twitter",platform:"social"}}}]},c={type:"end",data:{label:"End Workflow",description:"Complete the workflow",icon:p.A,config:{type:"end"}}},d=[...(null===(e=l[t])||void 0===e?void 0:e.filter(e=>e.data.label.toLowerCase().includes(i.toLowerCase())||e.data.description.toLowerCase().includes(i.toLowerCase())))||[]];return"triggers"!==t&&d.push(c),(0,b.jsxs)("div",{className:"w-80 bg-dark-800 border-r border-dark-700 flex flex-col h-full",children:[(0,b.jsxs)("div",{className:"p-4 border-b border-dark-700",children:[(0,b.jsx)("h2",{className:"text-lg font-semibold text-white mb-4",children:"Workflow Components"}),(0,b.jsxs)("div",{className:"relative mb-4",children:[(0,b.jsx)(z.A,{size:16,className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),(0,b.jsx)("input",{type:"text",placeholder:"Search components...",value:i,onChange:e=>n(e.target.value),className:"w-full pl-10 pr-4 py-2 bg-dark-700 border border-dark-600 rounded-lg text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),(0,b.jsx)("div",{className:"flex flex-wrap gap-1",children:r.map(e=>(0,b.jsxs)("button",{onClick:()=>a(e.id),className:"flex items-center gap-2 px-3 py-2 rounded-lg text-sm transition-colors ".concat(t===e.id?"bg-blue-500 text-white":"bg-dark-700 text-gray-400 hover:text-white hover:bg-dark-600"),children:[(0,b.jsx)(e.icon,{size:14}),e.label]},e.id))})]}),(0,b.jsxs)("div",{className:"flex-1 overflow-y-auto p-4",children:[(0,b.jsx)("div",{className:"space-y-3",children:d.map((e,t)=>(0,b.jsxs)(o.P.div,{className:"bg-dark-700 hover:bg-dark-600 border border-dark-600 rounded-lg p-3 cursor-move transition-colors",draggable:!0,onDragStart:t=>((e,t)=>{e.dataTransfer.setData("application/reactflow",JSON.stringify(t)),e.dataTransfer.effectAllowed="move"})(t,e),whileHover:{scale:1.02},whileTap:{scale:.98},children:[(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)("div",{className:"w-10 h-10 rounded-lg flex items-center justify-center ".concat("trigger"===e.type?"bg-green-500":"action"===e.type?"bg-blue-500":"condition"===e.type?"bg-yellow-500":"bg-purple-500"),children:(0,b.jsx)(e.data.icon,{size:18,className:"text-white"})}),(0,b.jsxs)("div",{className:"flex-1",children:[(0,b.jsx)("h4",{className:"font-medium text-white text-sm",children:e.data.label}),(0,b.jsx)("p",{className:"text-xs text-gray-400",children:e.data.description})]})]}),(0,b.jsx)("div",{className:"mt-2 flex justify-center",children:(0,b.jsx)("div",{className:"w-8 h-1 bg-gray-600 rounded-full"})})]},"".concat(e.type,"-").concat(t)))}),0===d.length&&(0,b.jsxs)("div",{className:"text-center py-8",children:[(0,b.jsx)(z.A,{size:32,className:"text-gray-600 mx-auto mb-2"}),(0,b.jsx)("p",{className:"text-gray-400",children:"No components found"}),(0,b.jsx)("p",{className:"text-gray-500 text-sm",children:"Try a different search term"})]})]}),(0,b.jsx)("div",{className:"p-4 border-t border-dark-700 bg-dark-900",children:(0,b.jsxs)("div",{className:"text-xs text-gray-400 space-y-1",children:[(0,b.jsx)("p",{children:(0,b.jsx)("strong",{className:"text-white",children:"\ud83d\udca1 How to use:"})}),(0,b.jsx)("p",{children:"\u2022 Drag components to the canvas"}),(0,b.jsx)("p",{children:"\u2022 Connect nodes with edges"}),(0,b.jsx)("p",{children:"\u2022 Start with a trigger, end with an endpoint"}),(0,b.jsx)("p",{children:"\u2022 Execute to run your workflow"})]})})]})};var W=a(4919),D=a(8646),R=a(3944);const I=e=>{let{onSelectTemplate:t,onClose:a}=e;const[n,r]=(0,s.useState)(""),[l,c]=(0,s.useState)("all"),d=[{id:"all",label:"All Templates",icon:p.A},{id:"lead-generation",label:"Lead Generation",icon:T.A},{id:"content",label:"Content Creation",icon:A.A},{id:"social-media",label:"Social Media",icon:j.A},{id:"automation",label:"Business Automation",icon:W.A},{id:"research",label:"Research & Analysis",icon:z.A}],g=[{id:"linkedin-lead-gen",name:"LinkedIn Lead Generation",description:"Automatically scrape LinkedIn profiles and extract contact information from target companies",category:"lead-generation",icon:T.A,difficulty:"Easy",estimatedTime:"15 min",popularity:4.8,tags:["LinkedIn","CRM","Sales"],nodes:[{id:"trigger-1",type:"trigger",position:{x:50,y:100},data:{label:"Manual Start",description:"Start workflow manually",icon:p.A}},{id:"action-1",type:"action",position:{x:300,y:100},data:{label:"LinkedIn Search",description:"Search LinkedIn profiles",icon:T.A}},{id:"action-2",type:"action",position:{x:550,y:100},data:{label:"Extract Data",description:"Extract contact information",icon:N.A}},{id:"end-1",type:"end",position:{x:800,y:100},data:{label:"Save to CRM",description:"Save leads to database",icon:p.A}}],edges:[{id:"e1-2",source:"trigger-1",target:"action-1",type:"smoothstep"},{id:"e2-3",source:"action-1",target:"action-2",type:"smoothstep"},{id:"e3-4",source:"action-2",target:"end-1",type:"smoothstep"}]},{id:"content-research",name:"Content Research Assistant",description:"Research trending topics, analyze competitors, and generate content ideas for social media",category:"content",icon:A.A,difficulty:"Medium",estimatedTime:"25 min",popularity:4.6,tags:["Research","Content","Social Media"],nodes:[{id:"trigger-1",type:"trigger",position:{x:50,y:100},data:{label:"Schedule Trigger",description:"Daily content research",icon:D.A}},{id:"action-1",type:"action",position:{x:300,y:50},data:{label:"Google Trends",description:"Check trending topics",icon:W.A}},{id:"action-2",type:"action",position:{x:300,y:150},data:{label:"Competitor Analysis",description:"Analyze competitor content",icon:z.A}},{id:"condition-1",type:"condition",position:{x:550,y:100},data:{label:"Content Filter",description:"Filter relevant topics",icon:A.A}},{id:"end-1",type:"end",position:{x:800,y:100},data:{label:"Generate Report",description:"Create content report",icon:A.A}}],edges:[{id:"e1-2",source:"trigger-1",target:"action-1",type:"smoothstep"},{id:"e1-3",source:"trigger-1",target:"action-2",type:"smoothstep"},{id:"e2-4",source:"action-1",target:"condition-1",type:"smoothstep"},{id:"e3-4",source:"action-2",target:"condition-1",type:"smoothstep"},{id:"e4-5",source:"condition-1",target:"end-1",type:"smoothstep"}]},{id:"social-media-scheduler",name:"Social Media Scheduler",description:"Automatically post content across multiple social media platforms with optimal timing",category:"social-media",icon:j.A,difficulty:"Easy",estimatedTime:"10 min",popularity:4.9,tags:["Social Media","Automation","Scheduling"],nodes:[{id:"trigger-1",type:"trigger",position:{x:50,y:100},data:{label:"Content Ready",description:"New content available",icon:A.A}},{id:"condition-1",type:"condition",position:{x:300,y:100},data:{label:"Optimal Time?",description:"Check posting time",icon:v.A}},{id:"action-1",type:"action",position:{x:550,y:50},data:{label:"Post to Twitter",description:"Share on Twitter/X",icon:j.A}},{id:"action-2",type:"action",position:{x:550,y:150},data:{label:"Post to LinkedIn",description:"Share on LinkedIn",icon:T.A}},{id:"end-1",type:"end",position:{x:800,y:100},data:{label:"Track Engagement",description:"Monitor performance",icon:W.A}}],edges:[{id:"e1-2",source:"trigger-1",target:"condition-1",type:"smoothstep"},{id:"e2-3",source:"condition-1",target:"action-1",type:"smoothstep"},{id:"e2-4",source:"condition-1",target:"action-2",type:"smoothstep"},{id:"e3-5",source:"action-1",target:"end-1",type:"smoothstep"},{id:"e4-5",source:"action-2",target:"end-1",type:"smoothstep"}]},{id:"email-campaign",name:"Email Campaign Automation",description:"Personalized email campaigns with lead scoring and automated follow-ups",category:"automation",icon:k.A,difficulty:"Hard",estimatedTime:"35 min",popularity:4.5,tags:["Email","CRM","Lead Scoring"],nodes:[{id:"trigger-1",type:"trigger",position:{x:50,y:100},data:{label:"New Lead",description:"Lead enters system",icon:T.A}},{id:"condition-1",type:"condition",position:{x:300,y:100},data:{label:"Lead Score",description:"Evaluate lead quality",icon:W.A}},{id:"action-1",type:"action",position:{x:550,y:50},data:{label:"Send Welcome Email",description:"Personalized welcome",icon:k.A}},{id:"action-2",type:"action",position:{x:550,y:150},data:{label:"Schedule Follow-up",description:"Set reminder for sales",icon:D.A}},{id:"end-1",type:"end",position:{x:800,y:100},data:{label:"Update CRM",description:"Log interaction",icon:N.A}}],edges:[{id:"e1-2",source:"trigger-1",target:"condition-1",type:"smoothstep"},{id:"e2-3",source:"condition-1",target:"action-1",type:"smoothstep"},{id:"e2-4",source:"condition-1",target:"action-2",type:"smoothstep"},{id:"e3-5",source:"action-1",target:"end-1",type:"smoothstep"},{id:"e4-5",source:"action-2",target:"end-1",type:"smoothstep"}]},{id:"market-research",name:"Market Research Automation",description:"Comprehensive market analysis with competitor tracking and trend identification",category:"research",icon:z.A,difficulty:"Medium",estimatedTime:"20 min",popularity:4.4,tags:["Research","Analytics","Competition"],nodes:[{id:"trigger-1",type:"trigger",position:{x:50,y:100},data:{label:"Weekly Trigger",description:"Weekly market check",icon:D.A}},{id:"action-1",type:"action",position:{x:300,y:50},data:{label:"Scrape Competitors",description:"Monitor competitor sites",icon:j.A}},{id:"action-2",type:"action",position:{x:300,y:150},data:{label:"Price Tracking",description:"Track pricing changes",icon:W.A}},{id:"condition-1",type:"condition",position:{x:550,y:100},data:{label:"Significant Change?",description:"Detect major updates",icon:z.A}},{id:"end-1",type:"end",position:{x:800,y:100},data:{label:"Send Alert",description:"Notify team of changes",icon:k.A}}],edges:[{id:"e1-2",source:"trigger-1",target:"action-1",type:"smoothstep"},{id:"e1-3",source:"trigger-1",target:"action-2",type:"smoothstep"},{id:"e2-4",source:"action-1",target:"condition-1",type:"smoothstep"},{id:"e3-4",source:"action-2",target:"condition-1",type:"smoothstep"},{id:"e4-5",source:"condition-1",target:"end-1",type:"smoothstep"}]}].filter(e=>{const t=e.name.toLowerCase().includes(n.toLowerCase())||e.description.toLowerCase().includes(n.toLowerCase())||e.tags.some(e=>e.toLowerCase().includes(n.toLowerCase())),a="all"===l||e.category===l;return t&&a}),x=e=>{switch(e){case"Easy":return"text-green-400 bg-green-400/20";case"Medium":return"text-yellow-400 bg-yellow-400/20";case"Hard":return"text-red-400 bg-red-400/20";default:return"text-gray-400 bg-gray-400/20"}};return(0,b.jsx)("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:(0,b.jsxs)(o.P.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},className:"bg-dark-900 rounded-xl border border-dark-700 max-w-6xl w-full max-h-[90vh] flex flex-col",children:[(0,b.jsxs)("div",{className:"p-6 border-b border-dark-700 flex items-center justify-between",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h2",{className:"text-2xl font-bold text-white",children:"Workflow Templates"}),(0,b.jsx)("p",{className:"text-gray-400 mt-1",children:"Choose a pre-built workflow to get started quickly"})]}),(0,b.jsx)("button",{onClick:a,className:"text-gray-400 hover:text-white p-2 hover:bg-dark-700 rounded-lg transition-colors",children:"\xd7"})]}),(0,b.jsx)("div",{className:"p-6 border-b border-dark-700",children:(0,b.jsxs)("div",{className:"flex flex-col sm:flex-row gap-4",children:[(0,b.jsxs)("div",{className:"relative flex-1",children:[(0,b.jsx)(z.A,{size:16,className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),(0,b.jsx)("input",{type:"text",placeholder:"Search templates...",value:n,onChange:e=>r(e.target.value),className:"w-full pl-10 pr-4 py-2 bg-dark-800 border border-dark-700 rounded-lg text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),(0,b.jsx)("select",{value:l,onChange:e=>c(e.target.value),className:"px-4 py-2 bg-dark-800 border border-dark-700 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500",children:d.map(e=>(0,b.jsx)("option",{value:e.id,children:e.label},e.id))})]})}),(0,b.jsxs)("div",{className:"flex-1 overflow-y-auto p-6",children:[(0,b.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:g.map(e=>(0,b.jsxs)(o.P.div,{className:"bg-dark-800 border border-dark-700 rounded-lg p-6 hover:border-blue-500/50 transition-all cursor-pointer",whileHover:{scale:1.02},whileTap:{scale:.98},children:[(0,b.jsxs)("div",{className:"flex items-start gap-3 mb-4",children:[(0,b.jsx)("div",{className:"w-10 h-10 bg-blue-500 rounded-lg flex items-center justify-center flex-shrink-0",children:(0,b.jsx)(e.icon,{size:20,className:"text-white"})}),(0,b.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,b.jsx)("h3",{className:"font-semibold text-white truncate",children:e.name}),(0,b.jsxs)("div",{className:"flex items-center gap-2 mt-1",children:[(0,b.jsx)("span",{className:"px-2 py-1 text-xs rounded-full ".concat(x(e.difficulty)),children:e.difficulty}),(0,b.jsxs)("span",{className:"text-xs text-gray-400 flex items-center gap-1",children:[(0,b.jsx)(v.A,{size:12}),e.estimatedTime]})]})]})]}),(0,b.jsx)("p",{className:"text-gray-400 text-sm mb-4 line-clamp-2",children:e.description}),(0,b.jsxs)("div",{className:"flex flex-wrap gap-1 mb-4",children:[e.tags.slice(0,3).map((e,t)=>(0,b.jsx)("span",{className:"px-2 py-1 text-xs bg-dark-700 text-gray-300 rounded",children:e},t)),e.tags.length>3&&(0,b.jsxs)("span",{className:"px-2 py-1 text-xs bg-dark-700 text-gray-400 rounded",children:["+",e.tags.length-3]})]}),(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsxs)("div",{className:"flex items-center gap-1 text-yellow-400",children:[(0,b.jsx)(R.A,{size:14}),(0,b.jsx)("span",{className:"text-sm",children:e.popularity})]}),(0,b.jsxs)(o.P.button,{onClick:()=>(e=>{const s={id:(0,h.A)(),name:"".concat(e.name," - Copy"),nodes:e.nodes.map(e=>(0,i.A)((0,i.A)({},e),{},{id:(0,h.A)()})),edges:e.edges.map(e=>(0,i.A)((0,i.A)({},e),{},{id:(0,h.A)()})),templateId:e.id,createdAt:(new Date).toISOString()};t(s),a()})(e),className:"flex items-center gap-2 px-4 py-2 bg-blue-500 hover:bg-blue-600 text-white rounded-lg text-sm transition-colors",whileHover:{scale:1.05},whileTap:{scale:.95},children:[(0,b.jsx)(m.A,{size:14}),"Use Template"]})]})]},e.id))}),0===g.length&&(0,b.jsxs)("div",{className:"text-center py-12",children:[(0,b.jsx)(z.A,{size:48,className:"text-gray-600 mx-auto mb-4"}),(0,b.jsx)("h3",{className:"text-xl font-semibold text-gray-400 mb-2",children:"No templates found"}),(0,b.jsx)("p",{className:"text-gray-500",children:"Try adjusting your search or category filter"})]})]})]})})};var P=a(5469),M=a(7104),H=a(4992),O=a(222);const X=e=>{let{initialWorkflow:t,onSave:a,onBack:r,onExecute:l}=e;const[c,d]=(0,s.useState)(t||{id:null,name:"Untitled Workflow",nodes:[],edges:[],description:"",createdAt:(new Date).toISOString()}),[p,x]=(0,s.useState)(!t),[h,y]=(0,s.useState)(!1),[w,j]=(0,s.useState)(null),[v,k]=(0,s.useState)(!1),{sendMessage:N}=(0,H.O)(),{announceToScreenReader:A}=(0,O.v)();(0,s.useEffect)(()=>{if(c.nodes.length>0){const e=setTimeout(()=>{S()},2e3);return()=>clearTimeout(e)}},[c]);const C=e=>{d(t=>(0,i.A)((0,i.A)((0,i.A)({},t),e),{},{updatedAt:(new Date).toISOString()}))},S=()=>{a&&(a(c),A("Workflow saved successfully"))},T=async e=>{y(!0),A("Starting workflow execution");try{const t=Date.now().toString();j({id:t,status:"running",startTime:new Date,steps:[]});const a=E(e);await N("Execute this workflow: ".concat(a));for(let s=0;s<e.nodes.length;s++)await new Promise(e=>setTimeout(e,1e3)),j(t=>(0,i.A)((0,i.A)({},t),{},{steps:[...t.steps,{nodeId:e.nodes[s].id,status:"completed",timestamp:new Date,result:"Step ".concat(s+1," completed successfully")}]}));j(e=>(0,i.A)((0,i.A)({},e),{},{status:"completed",endTime:new Date})),A("Workflow execution completed successfully"),l&&l(e,w)}catch(t){console.error("Workflow execution failed:",t),j(e=>(0,i.A)((0,i.A)({},e),{},{status:"failed",error:t.message,endTime:new Date})),A("Workflow execution failed")}finally{y(!1)}},E=e=>{const t=e.nodes.map(e=>"".concat(e.data.label,": ").concat(e.data.description));return"Workflow with ".concat(t.length," steps: ").concat(t.join(" -> "))};return(0,b.jsxs)("div",{className:"h-full bg-dark-900 flex flex-col",children:[(0,b.jsxs)("div",{className:"bg-dark-800 border-b border-dark-700 px-6 py-4 flex items-center justify-between",children:[(0,b.jsxs)("div",{className:"flex items-center gap-4",children:[(0,b.jsxs)(o.P.button,{onClick:r,className:"flex items-center gap-2 px-3 py-2 text-gray-400 hover:text-white hover:bg-dark-700 rounded-lg transition-colors",whileHover:{scale:1.02},whileTap:{scale:.98},children:[(0,b.jsx)(P.A,{size:18}),"Back to Workflows"]}),(0,b.jsx)("div",{className:"h-6 w-px bg-dark-700"}),(0,b.jsxs)("div",{children:[(0,b.jsx)("input",{type:"text",value:c.name,onChange:e=>C({name:e.target.value}),className:"text-xl font-semibold bg-transparent text-white border-none focus:outline-none focus:ring-2 focus:ring-blue-500 rounded px-2 py-1",placeholder:"Workflow name..."}),(0,b.jsxs)("p",{className:"text-sm text-gray-400",children:[c.nodes.length," nodes \u2022 ",c.edges.length," connections"]})]})]}),(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsxs)(o.P.button,{onClick:()=>x(!0),className:"flex items-center gap-2 px-4 py-2 bg-purple-500 hover:bg-purple-600 text-white rounded-lg transition-colors",whileHover:{scale:1.02},whileTap:{scale:.98},children:[(0,b.jsx)(g.A,{size:16}),"Templates"]}),(0,b.jsxs)(o.P.button,{onClick:()=>{const e=JSON.stringify(c,null,2),t="data:application/json;charset=utf-8,"+encodeURIComponent(e),a="".concat(c.name.replace(/\s+/g,"_").toLowerCase(),".json"),i=document.createElement("a");i.setAttribute("href",t),i.setAttribute("download",a),i.click(),A("Workflow exported successfully")},disabled:0===c.nodes.length,className:"flex items-center gap-2 px-4 py-2 bg-gray-600 hover:bg-gray-700 disabled:bg-gray-800 disabled:text-gray-500 text-white rounded-lg transition-colors",whileHover:{scale:1.02},whileTap:{scale:.98},children:[(0,b.jsx)(M.A,{size:16}),"Export"]}),(0,b.jsxs)(o.P.button,{onClick:S,className:"flex items-center gap-2 px-4 py-2 bg-blue-500 hover:bg-blue-600 text-white rounded-lg transition-colors",whileHover:{scale:1.02},whileTap:{scale:.98},children:[(0,b.jsx)(u.A,{size:16}),"Save"]}),(0,b.jsxs)(o.P.button,{onClick:()=>T(c),disabled:c.nodes.length<2||h,className:"flex items-center gap-2 px-4 py-2 bg-green-500 hover:bg-green-600 disabled:bg-gray-600 disabled:text-gray-400 text-white rounded-lg transition-colors",whileHover:{scale:1.02},whileTap:{scale:.98},children:[(0,b.jsx)(m.A,{size:16}),h?"Executing...":"Execute"]})]})]}),(0,b.jsxs)("div",{className:"flex-1 flex overflow-hidden",children:[(0,b.jsx)(L,{}),(0,b.jsxs)("div",{className:"flex-1 relative",children:[(0,b.jsx)(f,{workflow:c,onWorkflowUpdate:C,onExecute:T,isExecuting:h}),w&&(0,b.jsxs)("div",{className:"absolute top-4 right-4 bg-dark-800 border border-dark-700 rounded-lg p-4 min-w-[300px]",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,b.jsx)("h4",{className:"font-semibold text-white",children:"Execution Status"}),(0,b.jsx)("span",{className:"px-2 py-1 text-xs rounded-full ".concat("running"===w.status?"bg-blue-500/20 text-blue-400":"completed"===w.status?"bg-green-500/20 text-green-400":"bg-red-500/20 text-red-400"),children:w.status})]}),(0,b.jsxs)("div",{className:"space-y-2 max-h-40 overflow-y-auto",children:[w.steps.map((e,t)=>(0,b.jsxs)("div",{className:"flex items-center gap-2 text-sm",children:[(0,b.jsx)("div",{className:"w-2 h-2 bg-green-400 rounded-full"}),(0,b.jsx)("span",{className:"text-gray-300",children:e.result})]},t)),"running"===w.status&&(0,b.jsxs)("div",{className:"flex items-center gap-2 text-sm",children:[(0,b.jsx)("div",{className:"w-2 h-2 bg-blue-400 rounded-full animate-pulse"}),(0,b.jsx)("span",{className:"text-gray-300",children:"Processing..."})]})]}),"running"!==w.status&&(0,b.jsx)("button",{onClick:()=>j(null),className:"mt-3 text-xs text-gray-400 hover:text-white transition-colors",children:"Dismiss"})]})]})]}),(0,b.jsx)(n.N,{children:p&&(0,b.jsx)(I,{onSelectTemplate:e=>{d(e),x(!1),A('Template "'.concat(e.name,'" loaded'))},onClose:()=>x(!1)})})]})}}}]);
//# sourceMappingURL=660.caaf96b8.chunk.js.map